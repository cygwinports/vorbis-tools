--- origsrc/vorbis-tools-1.1.1/ogg123/buffer.c	2005-06-03 05:15:09.000000000 -0500
+++ src/vorbis-tools-1.1.1/ogg123/buffer.c	2007-07-29 21:52:14.015625000 -0500
@@ -308,6 +308,11 @@
     }
     else {
 
+      if (buf->cancel_flag || sig_request.cancel)
+	{
+	  UNLOCK_MUTEX(buf->mutex);
+	  break;
+	}
       /* No room for more data, wait until there is */
       DEBUG("No room for data in buffer.  Waiting.");
       COND_WAIT(buf->write_cond, buf->mutex);
